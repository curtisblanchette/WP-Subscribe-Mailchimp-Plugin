<?phpif(session_id()==''){	session_start();}function storeAddress(){	/*	 * Validation	 */	if(!$_GET['email']){ return "No email address provided"; } 	if(!preg_match("/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*$/i", $_GET['email'])) {		return "Email address is invalid"; 	}	require_once('MCAPI.class.php');	/*	 * Get the API attributes	 */	$mcKey = $_SESSION['mc_api_key'];	$mcID = $_SESSION['mc_list_id'];	$api = new MCAPI($mcKey);	$list_id = $mcID;	if($api->listSubscribe($list_id, $_GET['email'], '') === true) {		return 'Success! Check your email to confirm sign up.';	}else{		return 'Error: ' . $api->errorMessage;	}	}/* * If being called via ajax, autorun the function */ if($_GET['ajax']){ echo storeAddress(); }?>